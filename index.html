<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test de elementos con PyScript</title>
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  <style>
    body { font-family: sans-serif; background: #f7f7f7; }
    .terminal { background: #181818; color: #fafafa; padding: 1em; border-radius: 8px; margin-top: 20px; }
    label, input { margin: 0.2em; }
    #resultado { margin-top: 1em; font-weight: bold; }
    button { margin-top: 0.5em; }
  </style>
</head>
<body>
  <h1>Test interactivo de elementos químicos (PyScript)</h1>
  <p>Completa los campos y pulsa "Comprobar". Pulsa "Siguiente elemento" para un nuevo test.</p>
  <div class="terminal">
    <div id="elemento-pregunta"></div>
    <label>Elemento: <input type="text" id="input-elemento"></label><br>
    <label>Símbolo: <input type="text" id="input-simbolo"></label><br>
    <label>Posición: <input type="text" id="input-posicion"></label><br>
    <button id="btn-comprobar">Comprobar</button>
    <button id="btn-nueva">Siguiente elemento</button>
    <div id="resultado"></div>
  </div>
  <py-script>
import random
from js import document

elementos = [
    ["Hidrógeno","H","G1 P1"],["Litio","Li","G1 P2"],["Sodio","Na","G1 P3"],["Potasio","K","G1 P4"],["Rubidio","Rb","G1 P5"],["Cesio","Cs","G1 P6"],["Francio","Fr","G1 P7"],["Berilio","Be","G2 P2"],["Magnesio","Mg","G2 P3"],["Calcio","Ca","G2 P4"],["Estroncio","Sr","G2 P5"],["Bario","Ba","G2 P6"],["Radio","Ra","G2 P7"],["Boro","B","G13 P2"],["Aluminio","Al","G13 P3"],["Galio","Ga","G13 P4"],["Indio","In","G13 P5"],["Talio","Tl","G13 P6"],["Carbono","C","G14 P2"],["Silicio","Si","G14 P3"],["Germanio","Ge","G14 P4"],["Estaño","Sn","G14,P5"],
]

def nueva_pregunta(*args):
    global eleccion
    eleccion = random.choice(elementos)
    document.getElementById("elemento-pregunta").innerText = f"Símbolo: {eleccion[1]}, Posición: {eleccion[2]}"
    document.getElementById("input-elemento").value = ""
    document.getElementById("input-simbolo").value = ""
    document.getElementById("input-posicion").value = ""
    document.getElementById("resultado").innerText = ""

def comprobar(*args):
    elemento = document.getElementById("input-elemento").value
    simbolo = document.getElementById("input-simbolo").value
    posicion = document.getElementById("input-posicion").value
    res = []
    if elemento.lower() == eleccion[0].lower():
        res.append(f"Elemento correcto ✔️")
    else:
        res.append(f"Elemento incorrecto ❌ (Correcto: {eleccion[0]})")
    if simbolo == eleccion[1]:
        res.append(f"Símbolo correcto ✔️")
    else:
        res.append(f"Símbolo incorrecto ❌ (Correcto: {eleccion[1]})")
    if posicion == eleccion[2]:
        res.append(f"Posición correcta ✔️")
    else:
        res.append(f"Posición incorrecta ❌ (Correcto: {eleccion[2]})")
    document.getElementById("resultado").innerText = "\\n".join(res)

from pyodide.ffi import create_proxy
document.getElementById("btn-comprobar").addEventListener("click", create_proxy(comprobar))
document.getElementById("btn-nueva").addEventListener("click", create_proxy(nueva_pregunta))
nueva_pregunta()
  </py-script>
</body>
</html>
</body>
</html>
